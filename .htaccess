<IfModule mod_rewrite.c>

RewriteEngine On

RewriteRule \.log$ - [R=404]
#RewriteRule \.php$ - [R=404]

# Existing files and directories remain accessible
RewriteCond %{REQUEST_FILENAME} -f
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^.* - [L]

# Redirect the rest
RewriteCond $1 !^(index\.php|images|robots\.txt|public)


 <IfModule !mod_fastcgi.c>
        RewriteRule ^(.*)$ index.php/$1 [L]
    </IfModule>

    <IfModule mod_fastcgi.c>
        RewriteRule ^(.*)$ index.php?/$1 [L]
    </IfModule>
    Options All -Indexes

 </IfModule>


<IfModule mod_deflate.c>
# Set compression for: html,txt,xml,js,css
AddOutputFilterByType DEFLATE text/html text/plain text/xml application/xml application/xhtml+xml text/javascript text/css application/x-javascript
# Deactivate compression for buggy browsers
BrowserMatch ^Mozilla/4 gzip-only-text/html
BrowserMatch ^Mozilla/4.0[678] no-gzip
BrowserMatch bMSIE !no-gzip !gzip-only-text/html
# Set header information for proxies
Header append Vary User-Agent
</IfModule>
# END DEFLATE